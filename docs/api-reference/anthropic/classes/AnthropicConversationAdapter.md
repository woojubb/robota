<!-- 
 ⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
 This file is automatically generated by scripts/docs-generator.js
 To make changes, edit the source TypeScript files or update the generator script
-->

[anthropic](../../) / [Exports](../modules) / AnthropicConversationAdapter

# Class: AnthropicConversationAdapter

Anthropic ConversationHistory adapter

Converts UniversalMessage to Anthropic prompt format and Messages API format

## Table of contents

### Constructors

- [constructor](AnthropicConversationAdapter#constructor)

### Methods

- [toAnthropicMessages](AnthropicConversationAdapter#toanthropicmessages)
- [toAnthropicPrompt](AnthropicConversationAdapter#toanthropicprompt)
- [extractSystemPrompt](AnthropicConversationAdapter#extractsystemprompt)
- [convertMessage](AnthropicConversationAdapter#convertmessage)

## Constructors

### constructor

• **new AnthropicConversationAdapter**(): [`AnthropicConversationAdapter`](AnthropicConversationAdapter)

#### Returns

[`AnthropicConversationAdapter`](AnthropicConversationAdapter)

## Methods

### toAnthropicMessages

▸ **toAnthropicMessages**(`messages`): `AnthropicAPIMessage`[]

Convert UniversalMessage array to Anthropic Messages API format

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `messages` | `UniversalMessage`[] | Array of universal messages |

#### Returns

`AnthropicAPIMessage`[]

Array of messages in Anthropic Messages API format

#### Defined in

[anthropic/src/adapter.ts:32](https://github.com/woojubb/robota/blob/30652967d461653c455a3b4a7c021f51b3c17391/packages/anthropic/src/adapter.ts#L32)

___

### toAnthropicPrompt

▸ **toAnthropicPrompt**(`messages`, `systemPrompt?`): `string`

Convert UniversalMessage array to Anthropic prompt format (legacy)

#### Parameters

| Name | Type |
| :------ | :------ |
| `messages` | `UniversalMessage`[] |
| `systemPrompt?` | `string` |

#### Returns

`string`

#### Defined in

[anthropic/src/adapter.ts:80](https://github.com/woojubb/robota/blob/30652967d461653c455a3b4a7c021f51b3c17391/packages/anthropic/src/adapter.ts#L80)

___

### extractSystemPrompt

▸ **extractSystemPrompt**(`messages`, `fallbackSystemPrompt?`): `undefined` \| `string`

Extract system messages and combine them as system prompt

#### Parameters

| Name | Type |
| :------ | :------ |
| `messages` | `UniversalMessage`[] |
| `fallbackSystemPrompt?` | `string` |

#### Returns

`undefined` \| `string`

#### Defined in

[anthropic/src/adapter.ts:134](https://github.com/woojubb/robota/blob/30652967d461653c455a3b4a7c021f51b3c17391/packages/anthropic/src/adapter.ts#L134)

___

### convertMessage

▸ **convertMessage**(`msg`): `AnthropicMessage`

Helper for message conversion testing (converts each message individually)

#### Parameters

| Name | Type |
| :------ | :------ |
| `msg` | `UniversalMessage` |

#### Returns

`AnthropicMessage`

#### Defined in

[anthropic/src/adapter.ts:147](https://github.com/woojubb/robota/blob/30652967d461653c455a3b4a7c021f51b3c17391/packages/anthropic/src/adapter.ts#L147)
