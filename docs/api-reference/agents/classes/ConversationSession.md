<!-- 
 ⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
 This file is automatically generated by scripts/docs-generator.js
 To make changes, edit the source TypeScript files or update the generator script
-->

[agents](../../) / [Exports](../modules) / ConversationSession

# Class: ConversationSession

Conversation Session for a single conversation/session with enhanced features

Implements ConversationHistoryInterface with additional features like
duplicate prevention and API format conversion.

## Implements

- `ConversationHistoryInterface`

## Table of contents

### Constructors

- [constructor](ConversationSession#constructor)

### Methods

- [addMessage](ConversationSession#addmessage)
- [addUserMessage](ConversationSession#addusermessage)
- [addAssistantMessage](ConversationSession#addassistantmessage)
- [addSystemMessage](ConversationSession#addsystemmessage)
- [addToolMessage](ConversationSession#addtoolmessage)
- [addToolMessageWithId](ConversationSession#addtoolmessagewithid)
- [getMessages](ConversationSession#getmessages)
- [getMessagesByRole](ConversationSession#getmessagesbyrole)
- [getRecentMessages](ConversationSession#getrecentmessages)
- [getMessagesForAPI](ConversationSession#getmessagesforapi)
- [getMessageCount](ConversationSession#getmessagecount)
- [clear](ConversationSession#clear)

## Constructors

### constructor

• **new ConversationSession**(`maxMessages?`): [`ConversationSession`](ConversationSession)

#### Parameters

| Name | Type | Default value |
| :------ | :------ | :------ |
| `maxMessages` | `number` | `100` |

#### Returns

[`ConversationSession`](ConversationSession)

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:688](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L688)

## Methods

### addMessage

▸ **addMessage**(`message`): `void`

Add any message to history

#### Parameters

| Name | Type |
| :------ | :------ |
| `message` | [`UniversalMessage`](../modules#universalmessage) |

#### Returns

`void`

#### Implementation of

ConversationHistoryInterface.addMessage

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:695](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L695)

___

### addUserMessage

▸ **addUserMessage**(`content`, `metadata?`): `void`

Add user message

#### Parameters

| Name | Type |
| :------ | :------ |
| `content` | `string` |
| `metadata?` | `ConversationMessageMetadata` |

#### Returns

`void`

#### Implementation of

ConversationHistoryInterface.addUserMessage

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:702](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L702)

___

### addAssistantMessage

▸ **addAssistantMessage**(`content`, `toolCalls?`, `metadata?`): `void`

Add assistant message with optional tool calls

#### Parameters

| Name | Type |
| :------ | :------ |
| `content` | ``null`` \| `string` |
| `toolCalls?` | \{ `id`: `string` ; `type`: ``"function"`` ; `function`: \{ `name`: `string` ; `arguments`: `string`  }  }[] |
| `metadata?` | `ConversationMessageMetadata` |

#### Returns

`void`

#### Implementation of

ConversationHistoryInterface.addAssistantMessage

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:709](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L709)

___

### addSystemMessage

▸ **addSystemMessage**(`content`, `metadata?`): `void`

Add system message

#### Parameters

| Name | Type |
| :------ | :------ |
| `content` | `string` |
| `metadata?` | `ConversationMessageMetadata` |

#### Returns

`void`

#### Implementation of

ConversationHistoryInterface.addSystemMessage

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:724](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L724)

___

### addToolMessage

▸ **addToolMessage**(`content`, `toolCallId`, `toolName?`, `metadata?`): `void`

Add tool result message

#### Parameters

| Name | Type |
| :------ | :------ |
| `content` | `string` |
| `toolCallId` | `string` |
| `toolName?` | `string` |
| `metadata?` | `ConversationMessageMetadata` |

#### Returns

`void`

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:731](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L731)

___

### addToolMessageWithId

▸ **addToolMessageWithId**(`content`, `toolCallId`, `toolName`, `metadata?`): `void`

Add tool execution result message with tool call ID (for tool calling format)
High-level API matching core package with duplicate prevention

Throws error if a tool message with the same toolCallId already exists.

#### Parameters

| Name | Type |
| :------ | :------ |
| `content` | `string` |
| `toolCallId` | `string` |
| `toolName` | `string` |
| `metadata?` | `ConversationMessageMetadata` |

#### Returns

`void`

#### Implementation of

ConversationHistoryInterface.addToolMessageWithId

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:741](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L741)

___

### getMessages

▸ **getMessages**(): [`UniversalMessage`](../modules#universalmessage)[]

Get all messages in chronological order

#### Returns

[`UniversalMessage`](../modules#universalmessage)[]

#### Implementation of

ConversationHistoryInterface.getMessages

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:758](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L758)

___

### getMessagesByRole

▸ **getMessagesByRole**(`role`): [`UniversalMessage`](../modules#universalmessage)[]

Get messages filtered by specific role

#### Parameters

| Name | Type |
| :------ | :------ |
| `role` | `UniversalMessageRole` |

#### Returns

[`UniversalMessage`](../modules#universalmessage)[]

#### Implementation of

ConversationHistoryInterface.getMessagesByRole

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:765](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L765)

___

### getRecentMessages

▸ **getRecentMessages**(`count`): [`UniversalMessage`](../modules#universalmessage)[]

Get the most recent n messages

#### Parameters

| Name | Type |
| :------ | :------ |
| `count` | `number` |

#### Returns

[`UniversalMessage`](../modules#universalmessage)[]

#### Implementation of

ConversationHistoryInterface.getRecentMessages

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:772](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L772)

___

### getMessagesForAPI

▸ **getMessagesForAPI**(): `APIMessage`[]

Get messages formatted for API consumption

#### Returns

`APIMessage`[]

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:779](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L779)

___

### getMessageCount

▸ **getMessageCount**(): `number`

Get total message count

#### Returns

`number`

#### Implementation of

ConversationHistoryInterface.getMessageCount

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:801](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L801)

___

### clear

▸ **clear**(): `void`

Clear all conversation history

#### Returns

`void`

#### Implementation of

ConversationHistoryInterface.clear

#### Defined in

[packages/agents/src/managers/conversation-history-manager.ts:808](https://github.com/woojubb/robota/blob/d84cd2e1e6915e9f7e9aff8f9b06df02e55c139b/packages/agents/src/managers/conversation-history-manager.ts#L808)
