<!-- 
 ⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
 This file is automatically generated by scripts/docs-generator.js
 To make changes, edit the source TypeScript files or update the generator script
-->

[openai](../../) / [Exports](../modules) / OpenAIConversationAdapter

# Class: OpenAIConversationAdapter

OpenAI Conversation Adapter

Converts between UniversalMessage format and OpenAI native types.
Provides bidirectional conversion for seamless integration.

## Table of contents

### Constructors

- [constructor](OpenAIConversationAdapter#constructor)

### Methods

- [filterMessagesForOpenAI](OpenAIConversationAdapter#filtermessagesforopenai)
- [toOpenAIFormat](OpenAIConversationAdapter#toopenaiformat)
- [convertMessage](OpenAIConversationAdapter#convertmessage)
- [addSystemPromptIfNeeded](OpenAIConversationAdapter#addsystempromptifneeded)

## Constructors

### constructor

• **new OpenAIConversationAdapter**(): [`OpenAIConversationAdapter`](OpenAIConversationAdapter)

#### Returns

[`OpenAIConversationAdapter`](OpenAIConversationAdapter)

## Methods

### filterMessagesForOpenAI

▸ **filterMessagesForOpenAI**(`messages`): `UniversalMessage`[]

Filter messages for OpenAI compatibility

OpenAI has specific requirements:
- Tool messages must have valid toolCallId
- Messages must be in proper sequence
- Tool messages without toolCallId should be excluded

#### Parameters

| Name | Type |
| :------ | :------ |
| `messages` | `UniversalMessage`[] |

#### Returns

`UniversalMessage`[]

#### Defined in

[openai/src/adapter.ts:44](https://github.com/woojubb/robota/blob/87419dbb26faf50d7f1d60ae717fbe215743d1f6/packages/openai/src/adapter.ts#L44)

___

### toOpenAIFormat

▸ **toOpenAIFormat**(`messages`): `ChatCompletionMessageParam`[]

Convert UniversalMessage array to OpenAI message format
Now properly handles tool messages for OpenAI's tool calling feature

#### Parameters

| Name | Type |
| :------ | :------ |
| `messages` | `UniversalMessage`[] |

#### Returns

`ChatCompletionMessageParam`[]

#### Defined in

[openai/src/adapter.ts:68](https://github.com/woojubb/robota/blob/87419dbb26faf50d7f1d60ae717fbe215743d1f6/packages/openai/src/adapter.ts#L68)

___

### convertMessage

▸ **convertMessage**(`msg`): `ChatCompletionMessageParam`

Convert a single UniversalMessage to OpenAI format
Handles all message types including tool messages

#### Parameters

| Name | Type |
| :------ | :------ |
| `msg` | `UniversalMessage` |

#### Returns

`ChatCompletionMessageParam`

#### Defined in

[openai/src/adapter.ts:78](https://github.com/woojubb/robota/blob/87419dbb26faf50d7f1d60ae717fbe215743d1f6/packages/openai/src/adapter.ts#L78)

___

### addSystemPromptIfNeeded

▸ **addSystemPromptIfNeeded**(`messages`, `systemPrompt?`): `ChatCompletionMessageParam`[]

Add system prompt to message array if needed

#### Parameters

| Name | Type |
| :------ | :------ |
| `messages` | `ChatCompletionMessageParam`[] |
| `systemPrompt?` | `string` |

#### Returns

`ChatCompletionMessageParam`[]

#### Defined in

[openai/src/adapter.ts:153](https://github.com/woojubb/robota/blob/87419dbb26faf50d7f1d60ae717fbe215743d1f6/packages/openai/src/adapter.ts#L153)
